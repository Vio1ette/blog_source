# 一、光线追踪（Ray Tracing）

## 1. 为什么需要光线追踪？:star:

1. 光栅化不能很好地处理全局效果（软阴影、光线多次弹射），强行用光栅化处理会比较低效

   > 全局光照：直接光照+间接光照（回想渲染方程）

2. 光栅化比较快，用的是经验模型，是近似的，质量精度比较低，多用来做实时渲染（比较快）。

   光线追踪比较准确，但是会非常慢，更多的被用来做一些离线渲染，比如电影、动画

## 2. 一些假设

## 3. 光线追踪过程

3.1 光线投射

3.2 像素着色

3.3 递归

3.4 着色结果叠加

## 4. 光线求交——数学基础

### 4.1 光线的表示

### 4.2 球体

### 4.3 隐式表面

### 4.4 三角网格

## 5. 光线求交加速

### 5.1 包围盒:star:

### 5.2 均匀网格

### 5.3 空间划分

#### 5.3.1 八叉树（Oct-Tree）

#### 5.3.2 BSP-Tree

#### 5.3.3 KD-Tree

5.3.3.1 KD-Tree的两个缺点：

1. 
2. 

### 5.4 物体划分——层次包围盒（BVH）:star:

不是对空间进行划分，而是对物体进行划分

## 6. 辐射度量学

### 6.1 为什么需要辐射度量学？:star:

`Blinn-Phong`只是一种经验模型，而辐射度量学在物理的角度更加严谨

1. 能量Q
2. 功率，对应于光学中的power，lumen

### 6.2 Radiant Intensity

每个单位立体角的power

整个球的立体角

### 6.3 Irradiance

单位面积的能量

### 6.4 Radiance

## 7. BRDF & 反射方程

### 7.1 BRDF

### 7.2 反射方程

## 8.渲染方程

8.1 渲染方程

8.2 理解渲染方程

## 9. Monte Cralo积分

why？

有些复杂积分用黎曼积分解不出来，考虑另外一种积分方法，即Monte Cralo积分，它可以得到一个定积分的近似数值解

what？

从特殊情况去理解Monte Cralo积分

how？

## 10. Path Tracing

why?

Whitted-style光线追踪的缺陷：

1. 光线弹射总是按镜面反射规则（没有考虑<u>不同材质的反射</u>）
2. 光线在漫反射处停止弹射（没有考虑到<u>间接光照</u>）

what？

path tracing基于渲染方程，考虑全局光照

how？

用蒙特卡洛积分求解渲染方程，得到出射方向$\omega_o$上的能量

考虑间接光照：递归求解
