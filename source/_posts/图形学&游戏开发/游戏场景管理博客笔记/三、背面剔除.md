> 软（件）光栅器，一般是指运行在CPU上的光栅化器程序。而硬件光栅化器专指依赖于GPU的光栅化器，例如OpenGL、Vulkan之类的图形库

背面剔除，字面意思理解就是背朝着照相机的面看不到，不进行渲染，提高渲染速度

首先要判断图元到底是正向还是背向

#### 软光栅化的背面剔除

软光栅化的背面剔除通常在<u>世界空间或相机空间</u>进行，依据面法向量和视线向量的夹角（快速算向量的夹角用点乘）大小来判断面是正向还是背向

![image-20220420210746650](https://raw.githubusercontent.com/Vio1ette/blog-img/main/image-20220420210746650.png)

> 即使背面剔除通过，也有可能因为不在视锥体中而不被渲染

#### 现代GPU中的背景剔除

<u>发生在顶点变换（MVP）之后，光栅化之前，即在屏幕空间中</u>。

为什么不在顶点变换时做？

因为顶点变换阶段GPU只有一个个顶点的信息，还没有图元的信息，所以做不了背面剔除（要有面，就得先有图元）。光栅化阶段的输入是屏幕空间中图元数据（x, y, depth）

在屏幕空间中如何确定图元的朝向？

根据<u>顶点绕序</u>，DirectX默认情况下顺时针绕序是正面，逆时针绕序是反面，可以通过改变渲染状态来颠倒这个规则。

![image-20220420210725116](https://raw.githubusercontent.com/Vio1ette/blog-img/main/image-20220420210725116.png)

